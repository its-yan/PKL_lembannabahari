
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Image Carousel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        .galeri-scroller {
            position: relative;
            width: 100vw;
            height: 100vh;
            perspective: 1200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .galeri-scroll {
            position: relative;
            width: 400px;
            height: 300px;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .gallery-slide {
            position: absolute;
            width: 320px;
            height: 240px;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .gallery-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .gallery-slide:hover img {
            transform: scale(1.05);
        }

        /* Positioning untuk 5 slides */
        .gallery-slide:nth-child(1) {
            transform: translateX(-400px) translateZ(-200px) rotateY(25deg);
            opacity: 0.6;
            z-index: 1;
        }

        .gallery-slide:nth-child(2) {
            transform: translateX(-200px) translateZ(-100px) rotateY(15deg);
            opacity: 0.8;
            z-index: 2;
        }

        .gallery-slide:nth-child(3) {
            transform: translateX(0px) translateZ(0px) rotateY(0deg);
            opacity: 1;
            z-index: 3;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
        }

        .gallery-slide:nth-child(4) {
            transform: translateX(200px) translateZ(-100px) rotateY(-15deg);
            opacity: 0.8;
            z-index: 2;
        }

        .gallery-slide:nth-child(5) {
            transform: translateX(400px) translateZ(-200px) rotateY(-25deg);
            opacity: 0.6;
            z-index: 1;
        }

        /* Navigation buttons */
        .galeri-ctrl {
            position: absolute;
            bottom: 80px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #333;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 10;
        }

        .galeri-ctrl:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
        }

        .galeri-ctrl:active {
            transform: scale(0.95);
        }

        .prev-gallery {
            left: 50%;
            transform: translateX(-80px);
        }

        .next-gallery {
            left: 50%;
            transform: translateX(20px);
        }

        /* Play button untuk video slide */
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #333;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-slide:hover .play-button {
            opacity: 1;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .gallery-slide {
                width: 280px;
                height: 200px;
            }
            
            .gallery-slide:nth-child(1) {
                transform: translateX(-300px) translateZ(-150px) rotateY(30deg);
            }

            .gallery-slide:nth-child(2) {
                transform: translateX(-150px) translateZ(-75px) rotateY(20deg);
            }

            .gallery-slide:nth-child(4) {
                transform: translateX(150px) translateZ(-75px) rotateY(-20deg);
            }

            .gallery-slide:nth-child(5) {
                transform: translateX(300px) translateZ(-150px) rotateY(-30deg);
            }
        }
    </style>
</head>
<body>
    <div class="galeri-scroller">
        <div class="galeri-scroll" id="galeriScroll">
            <div class="gallery-slide">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop" alt="Mountain Lake">
            </div>
            <div class="gallery-slide">
                <img src="https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800&h=600&fit=crop" alt="Airplane Wing">
            </div>
            <div class="gallery-slide">
                <img src="https://images.unsplash.com/photo-1501436513145-30f24e19fcc4?w=800&h=600&fit=crop" alt="Lake Dock">
            </div>
            <div class="gallery-slide">
                <img src="https://images.unsplash.com/photo-1502920917128-1aa500764cbd?w=800&h=600&fit=crop" alt="Camera Setup">
                <div class="play-button">▶</div>
            </div>
            <div class="gallery-slide">
                <img src="https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=800&h=600&fit=crop" alt="Mountain Hiker">
            </div>
        </div>

        <button class="galeri-ctrl prev-gallery" id="galeriPrev">←</button>
        <button class="galeri-ctrl next-gallery" id="galeriNext">→</button>
    </div>

    <script>
        class Gallery3D {
            constructor() {
                this.track = document.getElementById('galeriScroll');
                this.slides = Array.from(this.track.children);
                this.prevBtn = document.getElementById('galeriPrev');
                this.nextBtn = document.getElementById('galeriNext');
                this.currentIndex = 0;
                this.totalSlides = this.slides.length;
                
                this.init();
            }

            init() {
                this.prevBtn.addEventListener('click', () => this.goToPrevious());
                this.nextBtn.addEventListener('click', () => this.goToNext());
                
                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') this.goToPrevious();
                    if (e.key === 'ArrowRight') this.goToNext();
                });

                // Touch/swipe support
                let startX = 0;
                let endX = 0;

                this.track.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                });

                this.track.addEventListener('touchend', (e) => {
                    endX = e.changedTouches[0].clientX;
                    if (startX - endX > 50) this.goToNext();
                    if (endX - startX > 50) this.goToPrevious();
                });

                // Mouse drag support
                let isDragging = false;
                let dragStartX = 0;

                this.track.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    dragStartX = e.clientX;
                    this.track.style.cursor = 'grabbing';
                });

                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                });

                document.addEventListener('mouseup', (e) => {
                    if (!isDragging) return;
                    isDragging = false;
                    this.track.style.cursor = 'grab';
                    
                    const dragEndX = e.clientX;
                    const diff = dragStartX - dragEndX;
                    
                    if (diff > 50) this.goToNext();
                    if (diff < -50) this.goToPrevious();
                });

                // Auto-play (optional)
                // setInterval(() => this.goToNext(), 5000);
            }

            updatePositions() {
                this.slides.forEach((slide, index) => {
                    const relativeIndex = (index - this.currentIndex + this.totalSlides) % this.totalSlides;
                    
                    slide.style.transition = 'all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    
                    switch(relativeIndex) {
                        case 0: // Center
                            slide.style.transform = 'translateX(0px) translateZ(0px) rotateY(0deg)';
                            slide.style.opacity = '1';
                            slide.style.zIndex = '3';
                            break;
                        case 1: // Right 1
                            slide.style.transform = 'translateX(200px) translateZ(-100px) rotateY(-15deg)';
                            slide.style.opacity = '0.8';
                            slide.style.zIndex = '2';
                            break;
                        case 2: // Right 2
                            slide.style.transform = 'translateX(400px) translateZ(-200px) rotateY(-25deg)';
                            slide.style.opacity = '0.6';
                            slide.style.zIndex = '1';
                            break;
                        case this.totalSlides - 1: // Left 1
                            slide.style.transform = 'translateX(-200px) translateZ(-100px) rotateY(15deg)';
                            slide.style.opacity = '0.8';
                            slide.style.zIndex = '2';
                            break;
                        case this.totalSlides - 2: // Left 2
                            slide.style.transform = 'translateX(-400px) translateZ(-200px) rotateY(25deg)';
                            slide.style.opacity = '0.6';
                            slide.style.zIndex = '1';
                            break;
                        default: // Hidden slides
                            slide.style.transform = 'translateX(600px) translateZ(-300px) rotateY(-30deg)';
                            slide.style.opacity = '0';
                            slide.style.zIndex = '0';
                            break;
                    }
                });
            }

            goToNext() {
                this.currentIndex = (this.currentIndex + 1) % this.totalSlides;
                this.updatePositions();
            }

            goToPrevious() {
                this.currentIndex = (this.currentIndex - 1 + this.totalSlides) % this.totalSlides;
                this.updatePositions();
            }
        }

        // Initialize carousel when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new Gallery3D();
        });
    </script>
</body>
</html>
